(this.webpackJsonpstudentclass=this.webpackJsonpstudentclass||[]).push([[0],{113:function(e,t,n){},122:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(30),o=n.n(s),i=n(36),r=n(5),l=n(11),u=n.n(l),d=n(18),j=(n(91),n(16)),b=n(40),m=(n(95),b.a.initializeApp({apiKey:"AIzaSyCe6z09LFG-AjSN3zT6NxzxBQXvku00KHI",authDomain:"student-classroom-b828d.firebaseapp.com",projectId:"student-classroom-b828d",storageBucket:"student-classroom-b828d.appspot.com",messagingSenderId:"863995282597",appId:"1:863995282597:web:596afbbe84699b8fc6b94c"}).firestore()),h=(b.a.auth(),new b.a.auth.GoogleAuthProvider,b.a.storage()),f=(b.a.database(),m),x=n(81),p=(n(113),n.p+"static/media/loader.18724024.gif"),O=n(2);var g=function(){return Object(O.jsx)("div",{className:"loader_body",children:Object(O.jsx)("img",{src:p})})};var v=Object(j.f)((function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),i=Object(r.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)(""),m=Object(r.a)(b,2),h=m[0],p=m[1],v=Object(a.useState)(),N=Object(r.a)(v,2),w=N[0],y=N[1],S=Object(a.useState)(!1),C=Object(r.a)(S,2),k=C[0],_=C[1],E=Object(a.useState)(),D=Object(r.a)(E,2),I=D[0],F=D[1],P=Object(a.useRef)(),B=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(!0),e.next=4,x.a.sendForm("service_2ryuebd","template_jgkssph",P.current,"user_ltxCptfH43Pg32et8yUrw").then((function(e){setTimeout((function(){}),3e3),console.log(e.text)}),(function(e){console.log(e.text)}));case 4:_(!1),document.getElementById("signup").style.display="none",document.getElementById("code").style.display="flex";case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{className:"login_signup_box_select",ref:P,onSubmit:B,id:"signup",children:[Object(O.jsxs)("div",{className:"username",children:[Object(O.jsx)("h4",{children:"Email"}),Object(O.jsx)("input",{type:"text",name:"message",value:e.cod,id:"actualcode_input"}),Object(O.jsx)("input",{type:"email",onChange:function(e){return s(e.target.value)},name:"user_email"})]}),Object(O.jsxs)("div",{className:"password",children:[Object(O.jsxs)("h4",{children:["Password",Object(O.jsx)("input",{type:"checkbox",onClick:function(){return function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"}()}})]}),Object(O.jsx)("input",{type:"password",id:"password",onChange:function(e){return j(e.target.value)}})]}),Object(O.jsxs)("div",{className:"password",children:[Object(O.jsx)("h4",{children:"re-enter Password"}),Object(O.jsx)("input",{type:"password",onChange:function(e){return p(e.target.value)}})]}),Object(O.jsx)("div",{className:"button",children:Object(O.jsx)("input",{type:"submit",value:"Create-Profile"})}),k?Object(O.jsx)(g,{}):Object(O.jsx)("h1",{})]}),Object(O.jsxs)("form",{className:"enter_verification_code",id:"code",onSubmit:function(e){return e.preventDefault()},children:[Object(O.jsx)("h3",{children:"Check your mail and confirm code here !"}),Object(O.jsx)("input",{onChange:function(e){return y(e.target.value)},value:w,type:"text"}),Object(O.jsx)("button",{onClick:function(){return function(){var t=e.cod;w.toString()===t.toString()?(console.log(t.toString()),console.log(w.toString()),f.collection("signup").add({email:c,password:l,confirm:h}),f.collection("batch").onSnapshot((function(e){e.docs.map((function(e){2024===e.data().number&&(F(e.id),console.log(e.data().number),console.log(I),f.collection("batch").doc(e.id).collection("user").add({batch:2024,email:c,username:"",url:""}))}))})),f.collection("signin").add({email:c,password:l}).then((function(){e.history.push({pathname:"/home",state:{signup:c}})}))):alert("wrong code")}()},children:"Confirm"}),Object(O.jsxs)("div",{class:"alert",id:"alertbox",children:[Object(O.jsx)("strong",{children:"Check"})," your mail box !!"]})]})]})}));var N=Object(j.f)((function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),i=Object(r.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)(!1),m=Object(r.a)(b,2),h=m[0],x=m[1],p=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),x(!0),setTimeout((function(){c&&l&&f.collection("signin").onSnapshot((function(t){t.docs.map((function(t){t.data().email===c&&(t.data().password===l?(x(!1),e.history.push({pathname:"/home",state:{email:"",login:c}})):(x(!1),window.alert("Wrong Password"))),x(!1)}))})),x(!1)}),1e3);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)("form",{className:"login_signup_box_select",children:[Object(O.jsxs)("div",{className:"username",children:[Object(O.jsx)("h4",{children:"Email"}),Object(O.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)}})]}),Object(O.jsxs)("div",{className:"password",children:[Object(O.jsxs)("h4",{children:["Password",Object(O.jsx)("input",{type:"checkbox",onClick:function(){return function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"}()}})]}),Object(O.jsx)("input",{type:"password",id:"password",onChange:function(e){return j(e.target.value)}})]}),Object(O.jsx)("div",{className:"button",children:Object(O.jsx)("button",{onClick:p,children:"Continue"})}),h?Object(O.jsx)(g,{}):Object(O.jsx)("h1",{})]})})),w=n.p+"static/media/head.1d2f7feb.svg",y=[{head:"Sign-up",text:"Already Have account",value:"Login"},{head:"Login",text:"Don't Have account",value:"Sign-up"}],S=Math.floor(1e5+9e5*Math.random());var C=function(){var e=Object(a.useState)(1),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(O.jsx)("div",{className:"login_signup_home",children:Object(O.jsxs)("div",{className:"login_signup_box",children:[Object(O.jsxs)("div",{className:"login_signup_box_head",children:[Object(O.jsx)("img",{src:w,className:"login_signup_box_head_img"}),Object(O.jsx)("h2",{className:"login_signup_box_head_text",children:y[n].head})]}),n?Object(O.jsx)(N,{}):Object(O.jsx)(v,{cod:S}),Object(O.jsx)("div",{className:"login_signup_box_foot",children:Object(O.jsxs)("h3",{className:"login_signup_box_foot_text",children:[y[n].text,Object(O.jsx)("h4",{className:"login_signup_box__foot_register",onClick:function(){return c(n?0:1)},children:y[n].value})]})})]})})},k=n(32);var _=function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(r.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)(!1),m=Object(r.a)(b,2);return m[0],m[1],Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,new Promise((function(e,t){e(f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").onSnapshot((function(e){e.docs.map((function(e){var t={avtar:e.data().url,username:e.data().username};s((function(e){return[].concat(Object(k.a)(e),[t])})),setTimeout((function(){return j(!1)}),2e3)}))})))}));case 3:case"end":return e.stop()}}),e)}))),[e.email]),Object(O.jsxs)("div",{className:"Navbar-people-fixed-box",children:[l?Object(O.jsx)(g,{}):Object(O.jsx)("h1",{}),Object(O.jsxs)("div",{className:"people-fixed-box",children:[Object(O.jsx)("div",{className:"people-fixed-box-head",onClick:function(){return j(!0),void e.check(!1)},children:Object(O.jsx)("h2",{children:"\u2718"})}),Object(O.jsx)("div",{className:"people-fixed-box-people",children:c.map((function(e){return Object(O.jsxs)("div",{className:"people-fixed-box-user",children:[Object(O.jsx)("img",{src:e.avtar}),Object(O.jsx)("h3",{children:e.username})]})}))})]})]})};n(122);var E=function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)("https://thumbs.dreamstime.com/z/default-avatar-profile-icon-vector-social-media-user-portrait-176256935.jpg"),i=Object(r.a)(o,2),l=i[0],j=i[1];Object(a.useEffect)(Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t,n){t(f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").onSnapshot((function(t){t.docs.map((function(t){t.data().email===e.email&&(""===t.data().username?document.getElementById("home-page-user-info").style.display="flex":document.getElementById("home-page-user-info").style.display="none")}))})))}));case 2:case"end":return t.stop()}}),t)}))));var b=function(){var t=Object(d.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.lodiing(!0),!(a=n.target.files[0])){t.next=6;break}return document.getElementById("blah").src=URL.createObjectURL(a),t.next=6,new Promise((function(t,a){t(h.ref("images/".concat(n.target.files[0].name)).put(n.target.files[0]).on("state_changed",(function(e){Math.round(e.bytesTransferred/e.totalBytes*100)}),(function(e){console.log(e)}),(function(){h.ref("images").child(n.target.files[0].name).getDownloadURL().then((function(t){console.log(t),j(t),console.log(e.email),e.lodiing(!1)})).catch((function(t){e.lodiing(!0),console.log(t)}))})))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"home-page-user-info",id:"home-page-user-info",children:Object(O.jsxs)("div",{className:"home-page-user-info-box",children:[Object(O.jsxs)("div",{className:"home-page-user-info-box-avtar",children:[Object(O.jsx)("img",{id:"blah",src:l,alt:"your image"}),Object(O.jsx)("input",{accept:"image/*",type:"file",id:"imgInp",onChange:function(e){return b(e)}})]}),Object(O.jsxs)("div",{className:"home-page-user-info-box-username",children:[Object(O.jsx)("h4",{children:"Username"}),Object(O.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)}})]}),Object(O.jsx)("button",{className:"save-username-and-avtar",onClick:function(){document.getElementById("home-page-user-info").style.display="none",f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").onSnapshot((function(t){t.docs.map((function(t){t.data().email===e.email&&(f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").doc(t.id).update({url:l}).then((function(){console.log("works")})).catch((function(e){alert(e),console.log(e)})),f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").doc(t.id).update({username:c}))}))}))},children:"Save"})]})})},D=n(137),I=n(133),F=n(138),P=n(134),B=n(139),H=n(135),L=n(99),T=n(140);var W=Object(j.f)((function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(),i=Object(r.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)(""),m=Object(r.a)(b,2),x=m[0],p=m[1],g=Object(a.useState)(),v=Object(r.a)(g,2),N=v[0],w=v[1],y=Object(a.useState)(!1),S=Object(r.a)(y,2),C=(S[0],S[1],Object(a.useState)("")),k=Object(r.a)(C,2),W=k[0],X=k[1],Z=Object(a.useState)(!1),M=Object(r.a)(Z,2),A=M[0],U=M[1],R=function(){return U(!1)},z=function(){return U(!0)};Object(a.useEffect)((function(){W&&f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").doc(W).update({url:x}).then((function(){console.log("works")})).catch((function(e){console.log(e)}))}),[W]);var G=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.target.files[0]){t.next=4;break}return e.loadiing(!0),t.next=4,new Promise((function(t,a){t(h.ref("images/".concat(n.target.files[0].name)).put(n.target.files[0]).on("state_changed",(function(e){Math.round(e.bytesTransferred/e.totalBytes*100)}),(function(e){console.log(e)}),(function(){h.ref("images").child(n.target.files[0].name).getDownloadURL().then((function(t){p(t),f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").onSnapshot((function(t){t.docs.map((function(t){t.data().email===e.email&&X(t.id)}))}))})),e.loadiing(!1)})))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(e.userDetails),w(e.userDetails.username),j(e.userDetails.url)}));var J={avtar:l||"",username:N||""};return Object(O.jsxs)(D.a,{collapseOnSelect:!0,bg:"dark",variant:"dark",fixed:"top",id:"navbar",children:[Object(O.jsx)(E,{email:e.email,lodiing:e.loadiing}),c?Object(O.jsx)(_,{email:e.email,check:s}):null,Object(O.jsxs)(I.a,{children:[Object(O.jsx)(D.a.Brand,{id:"left_nav",children:Object(O.jsx)(F.a,{placement:"right",overlay:Object(O.jsx)(P.a,{id:"button-tooltip",children:"Profile"}),children:Object(O.jsxs)("div",{className:"navbar-profile-box",children:[Object(O.jsx)("img",{src:J.avtar,onClick:z,alt:""}),Object(O.jsx)("h4",{onClick:z,children:J.username}),Object(O.jsxs)(B.a,{show:A,onHide:R,centered:!0,children:[Object(O.jsxs)(B.a.Header,{children:[Object(O.jsxs)(B.a.Title,{children:["Hello ",J.username]}),Object(O.jsx)("button",{type:"button",class:"close","aria-label":"Close",onClick:R,children:Object(O.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(O.jsx)(B.a.Body,{children:Object(O.jsx)("div",{className:"modalbody_profile",children:Object(O.jsxs)(H.a.Group,{className:"position-relative mb-3",children:[Object(O.jsx)(H.a.Label,{children:"Change profile image"}),Object(O.jsx)(H.a.Control,{type:"file",required:!0,name:"file",onChange:G})]})})}),Object(O.jsxs)(B.a.Footer,{children:[Object(O.jsx)(L.a,{onClick:function(){return e.history.push("/")},variant:"danger",children:"Log-Out"}),Object(O.jsx)(L.a,{variant:"primary",onClick:R,children:"Save"})]})]})]})})}),Object(O.jsx)(D.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(O.jsx)(D.a.Collapse,{id:"responsive-navbar-nav",children:Object(O.jsxs)(T.a,{id:"right_nav",children:[Object(O.jsx)(T.a.Link,{onClick:function(){return s(!0)},children:Object(O.jsx)("h4",{children:Object(O.jsx)("i",{className:"fas fa-user-friends"})})}),Object(O.jsx)(T.a.Link,{children:Object(O.jsx)("h4",{id:"navbar-right-corner-home",children:Object(O.jsx)("i",{className:"fas fa-home"})})})]})})]})]})})),X=(n(125),[{src:"https://wallpapercave.com/wp/wp5177383.jpg",name:"CSE-2020",batchName:"CSE"},{src:"https://wallpaperaccess.com/full/536531.png",name:"ECE-2020",batchName:"ECE"},{src:"https://wallpapercave.com/wp/wp3140229.jpg",name:"Both-Batch",batchName:"COMMON"}]);var Z=Object(j.f)((function(e){var t=Object(a.useState)(),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(),i=Object(r.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)([]),m=Object(r.a)(b,2),h=m[0],x=m[1],p=Object(a.useState)(""),v=Object(r.a)(p,2),N=v[0],w=v[1],y=Object(a.useState)(""),S=Object(r.a)(y,2),C=S[0],k=S[1],_=Object(a.useState)(!1),E=Object(r.a)(_,2),D=E[0],I=E[1];return Object(a.useEffect)((function(){e.location.state.signup?j(e.location.state.signup):(j(e.location.state.login),document.getElementById("home-page-user-info").style.display="none")}),[]),Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,new Promise((function(e,t){var n;e(f.collection("batch").onSnapshot((function(e){e.docs.map((function(e){2024===e.data().number&&(n=e.id,s(n),console.log(e.data().number),console.log(c),I(!1))}))})))}));case 3:case"end":return e.stop()}}),e)}))),[l]),Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.next=3,new Promise((function(e,t){e(f.collection("batch").doc(c).collection("user").onSnapshot((function(e){x(e.docs.map((function(e){return e.data().username}))),e.docs.map((function(e){e.data().email===l&&(console.log(l),k(e.data()),console.log(e.data().username),w(e.data().url))})),console.log(h),I(!1)})))}));case 3:case"end":return e.stop()}}),e)}))),[c]),Object(O.jsxs)("div",{className:"classroom-home-page",id:"classroom-home-page",children:[D?Object(O.jsx)(g,{}):Object(O.jsx)("h1",{}),Object(O.jsx)(W,{userDetails:C,email:l,loadiing:I}),Object(O.jsxs)("div",{className:"classroom-home-page-main-div",children:[Object(O.jsx)("div",{className:"classroom-home-page-main-div-head",children:Object(O.jsx)("h2",{children:"Student Classroom"})}),Object(O.jsx)("div",{className:"classroom-home-page-main-div-middle",children:X.map((function(t){return Object(O.jsx)("div",{onClick:function(){return function(t){e.history.push({pathname:"/main",state:{batchName:t.batchName,userDetails:C,id:c,src:t.src,email:l}}),console.log(N),console.log(t.batchName)}(t)},className:"classroom-home-page-main-div-middle-box",style:{backgroundImage:"url(".concat(t.src,")")},children:Object(O.jsx)("h2",{children:t.name})})}))})]})]})})),M=function(){var e=Object(a.useRef)();return Object(O.jsxs)("form",{ref:e,onSubmit:function(t){t.preventDefault(),x.a.sendForm("service_2ryuebd","template_jgkssph",e.current,"user_ltxCptfH43Pg32et8yUrw").then((function(e){console.log(e.text)}),(function(e){console.log(e.text)}))},children:[Object(O.jsx)("label",{children:"Name"}),Object(O.jsx)("input",{type:"text",name:"user_name"}),Object(O.jsx)("label",{children:"Email"}),Object(O.jsx)("input",{type:"email",name:"user_email"}),Object(O.jsx)("label",{children:"Message"}),Object(O.jsx)("textarea",{name:"message"}),Object(O.jsx)("input",{type:"submit",value:"Send"})]})};n(126);function A(e,t){return U.apply(this,arguments)}function U(){return(U=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){(console.log("clicked"),t.target.files[0])&&h.ref("posts/".concat(t.target.files[0].name)).put(t.target.files[0]).on("state_changed",(function(e){Math.round(e.bytesTransferred/e.totalBytes*100)}),(function(e){console.log(e)}),(function(){h.ref("posts").child(t.target.files[0].name).getDownloadURL().then((function(t){console.log(t),n.push(t),e(t)})).catch((function(e){return console.log(e)}))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a,c,s){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("post").add({title:t,author:a,message:n,url:c,subject:s,timestamp:b.a.firestore.FieldValue.serverTimestamp()});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,c,s){return e.apply(this,arguments)}}(),z=R,G=(n.p,n(136)),J=n(98),K="#";var V=Object(j.f)((function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(!1),i=Object(r.a)(o,2),l=i[0],j=i[1],b=Object(a.useState)([]),m=Object(r.a)(b,2),h=m[0],x=m[1],p=Object(a.useState)(!1),v=Object(r.a)(p,2),N=v[0],w=v[1],y=Object(a.useState)(""),S=Object(r.a)(y,2),C=S[0],_=S[1],E=Object(a.useState)([]),D=Object(r.a)(E,2),I=D[0],F=D[1],P=Object(a.useState)(""),B=Object(r.a)(P,2),T=B[0],W=B[1],X=["CE","P & SA","MPI","CAO","ICT"],Z=Object(a.useState)("Select Subject"),M=Object(r.a)(Z,2),U=M[0],R=M[1],V=Object(a.useState)(""),q=Object(r.a)(V,2),Q=q[0],Y=q[1],$=Object(a.useState)("Select"),ee=Object(r.a)($,2),te=ee[0],ne=ee[1],ae=function(t){e.history.push({pathname:"/announcement",state:{res:t,email:e.location.state.email,userDetails:e.location.state.userDetails}})};Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,new Promise((function(e,t){e(f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("post").orderBy("timestamp","desc").onSnapshot((function(e){var t=[];e.docs.map((function(e){var n={author:e.data().author,message:e.data().message,url:e.data().url,id:e.id,title:e.data().title,subject:e.data().subject,timestamp:e.data().timestamp};t.push(n)})),s(t),w(!1)})))}));case 3:case"end":return e.stop()}}),e)}))),[]);var ce=[],se=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,A(t,ce);case 3:K=e.sent,n={url:K,fileName:t.target.files[0].name},F((function(e){return[].concat(Object(k.a)(e),[n])})),a=t.target.files[0],w(!1),a&&((c=a.name).length>=12&&(s=c.split("."),c=s[0].substring(0,13)+"... ."+s[1]),x([].concat(Object(k.a)(h),[c]))),console.log(h);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"batch-main-page",children:[N?Object(O.jsx)(g,{}):Object(O.jsx)("h1",{}),Object(O.jsxs)("div",{className:"classroom-home-page-main-div-middle-box",style:{backgroundImage:"url(".concat(e.location.state.src,")")},children:[Object(O.jsx)("h3",{children:Object(O.jsx)("i",{class:"fas fa-arrow-left",onClick:function(){return window.history.back()}})}),Object(O.jsx)("h2",{children:e.location.state.batchName})]}),Object(O.jsxs)("div",{className:"batch-main-page-middle",children:[Object(O.jsx)("div",{className:"batch-main-page-middle-announce-box",children:l?Object(O.jsxs)("div",{className:"announce-after-box",children:[Object(O.jsxs)(G.a,{id:"subject_drop",children:[Object(O.jsx)(G.a.Toggle,{id:"dropdown-button-dark-example1",variant:"dark",children:U}),Object(O.jsx)(G.a.Menu,{variant:"dark",children:X.map((function(e){return Object(O.jsx)(G.a.Item,{className:"drop_name",onClick:function(){return R(e)},children:e})}))})]}),Object(O.jsxs)("div",{className:"announce-after-box-up",children:[Object(O.jsx)("input",{type:"text",className:"title",onChange:function(e){return W(e.target.value)},placeholder:"Topic"}),Object(O.jsx)("input",{type:"text",onChange:function(e){return _(e.target.value)},placeholder:"write the description..."})]}),Object(O.jsx)("div",{id:"uploaded-file",className:"uploaded-file-preview",children:h.map((function(e,t){return Object(O.jsx)("a",{className:"uploaded-file-preview-box",href:K,target:"_blank",children:Object(O.jsx)("h5",{children:e})})}))}),Object(O.jsxs)("div",{className:"announce-after-box-down",children:[Object(O.jsxs)("div",{className:"announce-after-box-down-upload",children:[Object(O.jsx)("input",{type:"file",id:"announceFile",hidden:!0,onChange:function(e){return se(e)}}),Object(O.jsx)("label",{for:"announceFile",children:Object(O.jsx)("i",{className:"fas fa-file-word",onClick:function(){}})})]}),Object(O.jsxs)("div",{className:"announce-after-box-down-save",children:[Object(O.jsx)("button",{onClick:function(){return j(!1)},children:"Cancel"}),Object(O.jsx)("button",{onClick:function(){z(T,C,e.location.state.userDetails.username,I,U),j(!1)},children:"Post"})]})]})]}):Object(O.jsxs)("div",{className:"announce-box-before",onClick:function(){return j(!0)},children:[Object(O.jsx)("img",{src:e.location.state.userDetails.url}),Object(O.jsx)("h4",{children:"New Announcement..."})]})}),Object(O.jsxs)("div",{className:"batch-main-filter-box",children:[Object(O.jsxs)(G.a,{id:"batch-main-filter-box-filter",children:[Object(O.jsx)(G.a.Toggle,{id:"dropdown-button-dark-example1",variant:"light",children:te}),Object(O.jsx)(G.a.Menu,{variant:"dark",children:X.map((function(e){return Object(O.jsx)(G.a.Item,{className:"drop_name",onClick:function(){ne(e)},children:e})}))})]}),Object(O.jsxs)(H.a,{className:"d-flex",id:"batch-main-filter-box-search",children:[Object(O.jsx)(J.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",onChange:function(e){return Y(e.target.value)}}),Object(O.jsx)(L.a,{variant:"success",children:"Search"})]})]}),c.length?c.map((function(e){var t,n,a;return"Select"==te&&""==Q.trim().toLowerCase()?Object(O.jsxs)("div",{className:"batch-main-page-middle-boxes",id:e.id,onClick:function(){return ae(e)},children:[Object(O.jsx)("div",{className:"batch-main-page-middle-boxes-i",children:Object(O.jsx)("i",{class:"fas fa-bullhorn"})}),Object(O.jsxs)("div",{className:"batch-main-page-middle-boxes-date-and-title",children:[Object(O.jsx)("div",{className:"batch-main-page-middle-boxes-title",children:Object(O.jsxs)("h2",{children:[e.author," Posted New Document : ",e.title]})}),Object(O.jsx)("h4",{children:new Date(1e3*(null===e||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.seconds)).toString().substring(0,16)})]})]}):"Select"==te&&e.title.toLowerCase().includes(Q.trim().toLowerCase())?Object(O.jsxs)("div",{className:"batch-main-page-middle-boxes",id:e.id,onClick:function(){return ae(e)},children:[Object(O.jsx)("div",{className:"batch-main-page-middle-boxes-i",children:Object(O.jsx)("i",{class:"fas fa-bullhorn"})}),Object(O.jsxs)("div",{className:"batch-main-page-middle-boxes-date-and-title",children:[Object(O.jsx)("div",{className:"batch-main-page-middle-boxes-title",children:Object(O.jsxs)("h2",{children:[e.author," Posted New Document : ",e.title]})}),Object(O.jsx)("h4",{children:new Date(1e3*(null===e||void 0===e||null===(n=e.timestamp)||void 0===n?void 0:n.seconds)).toString().substring(0,16)})]})]}):e.subject==te&&e.title.toLowerCase().includes(Q.trim().toLowerCase())?Object(O.jsxs)("div",{className:"batch-main-page-middle-boxes",id:e.id,onClick:function(){return ae(e)},children:[Object(O.jsx)("div",{className:"batch-main-page-middle-boxes-i",children:Object(O.jsx)("i",{class:"fas fa-bullhorn"})}),Object(O.jsxs)("div",{className:"batch-main-page-middle-boxes-date-and-title",children:[Object(O.jsx)("div",{className:"batch-main-page-middle-boxes-title",children:Object(O.jsxs)("h2",{children:[e.author," Posted New Document : ",e.title]})}),Object(O.jsx)("h4",{children:new Date(1e3*(null===e||void 0===e||null===(a=e.timestamp)||void 0===a?void 0:a.seconds)).toString().substring(0,16)})]})]}):void 0})):null]})]})}));var q=function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),i=Object(r.a)(o,2),l=i[0],u=i[1];Object(a.useEffect)((function(){f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("post").doc(e.postId).collection("chat").orderBy("timestamp","asc").onSnapshot((function(e){s(e.docs.map((function(e){return e.data()})))}))}),[e.postId]),Object(a.useEffect)((function(){console.log(e.postId),console.log(c)}),[c]);var d=function(t){if(t.preventDefault(),l){console.log(l),u(""),f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("post").doc(e.postId).collection("chat").add({author:e.username,message:l,timestamp:b.a.firestore.FieldValue.serverTimestamp(),url:e.url});var n=document.getElementById("chat_view_box");n.scrollTop=n.scrollHeight,u("")}};return Object(O.jsx)("div",{className:"after-main-announcement-box-chat-box",children:Object(O.jsxs)("div",{className:"after-main-announcement-box-chat",children:[Object(O.jsx)("div",{className:"after-main-announcement-box-chat-head",children:Object(O.jsx)("h2",{children:"Comments"})}),Object(O.jsx)("div",{className:"after-main-announcement-box-chat-view",id:"chat_view_box",children:c.length?c.map((function(e){return Object(O.jsxs)("div",{className:"after-main-announcement-box-chats",children:[Object(O.jsx)("img",{src:e.url}),Object(O.jsx)("h2",{id:"Comment_messege",children:e.message})]})})):null}),Object(O.jsxs)("form",{onSubmit:d,className:"after-main-announcement-box-send",children:[Object(O.jsx)("div",{className:"after-main-announcement-box-send-input",children:Object(O.jsx)("input",{type:"text",value:l,onChange:function(e){return u(e.target.value)},placeholder:"type here..."})}),Object(O.jsxs)("div",{className:"after-main-announcement-box-send-send",children:[Object(O.jsx)("i",{onClick:d,className:"fas fa-paper-plane"}),Object(O.jsx)("input",{type:"submit",hidden:!0,value:"Send"})]})]})]})})};var Q=Object(j.f)((function(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(""),i=Object(r.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)([]),j=Object(r.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(""),x=Object(r.a)(h,2),p=x[0],g=x[1];return Object(a.useEffect)((function(){console.log(e.location.state.res.id),console.log(e.location.state.email),f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("user").onSnapshot((function(t){console.log(t),t.docs.map((function(t){t.data().email===e.location.state.email&&s(t.data().url)}))})),f.collection("batch").doc("96NHjCZ6N4Xffxoi3FgW").collection("post").doc(e.location.state.res.id).get().then((function(e){u(e.data())}))}),[]),Object(a.useEffect)((function(){var e;g(new Date((null===l||void 0===l||null===(e=l.timestamp)||void 0===e?void 0:e.seconds)?1e3*l.timestamp.seconds:null).toString().substring(0,16))}),[l]),Object(a.useEffect)((function(){m(l.url),console.log(l)}),[l]),Object(O.jsxs)("div",{className:"after-main-announcement-box-main",children:[Object(O.jsxs)("div",{className:"after-main-announcement-box-main-nav",children:[Object(O.jsx)("i",{className:"fas fa-arrow-left",onClick:function(){return window.history.back()}}),Object(O.jsx)("img",{src:c})]}),Object(O.jsxs)("div",{className:"after-main-announcement-box-content",children:[Object(O.jsxs)("div",{className:"after-main-announcement-box-content-head",children:[Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:l.title})}),Object(O.jsx)("div",{children:Object(O.jsxs)("h4",{children:[l.author," : Date-",p]})})]}),Object(O.jsx)("div",{className:"after-main-announcement-box-content-middle",children:Object(O.jsx)("p",{children:l.message})}),Object(O.jsxs)("div",{className:"after-main-announcement-box-content-files",children:[Object(O.jsx)("h2",{children:"Files"}),b?b.map((function(e){return console.log(e),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"after-main-announcement-box-content-files-box",children:[Object(O.jsx)("div",{className:"after-main-announcement-box-content-files-box-left",children:Object(O.jsx)("h3",{children:e.fileName})}),Object(O.jsxs)("div",{className:"after-main-announcement-box-content-files-box-right",children:[Object(O.jsx)("a",{href:e.url,target:"_blank",children:Object(O.jsx)("i",{className:"far fa-eye"})}),Object(O.jsx)("a",{href:e.url,className:"download",children:Object(O.jsx)("i",{className:"fas fa-download"})})]})]})})})):null]})]}),Object(O.jsx)(q,{username:e.location.state.userDetails.username,url:e.location.state.userDetails.url,postId:e.location.state.res.id})]})}));var Y=function(){return Object(a.useEffect)((function(){console.log(f.collection("First").onSnapshot((function(e){e.docs.map((function(e){console.log(e.data().Name)}))})))})),Object(O.jsx)("div",{className:"app",children:Object(O.jsx)(i.a,{children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{exact:!0,path:"/",children:Object(O.jsx)(C,{})}),Object(O.jsx)(j.a,{path:"/home",children:Object(O.jsx)(Z,{})}),Object(O.jsx)(j.a,{path:"/email",children:Object(O.jsx)(M,{})}),Object(O.jsx)(j.a,{path:"/main",children:Object(O.jsx)(V,{})}),Object(O.jsx)(j.a,{path:"/Announcement",children:Object(O.jsx)(Q,{})})]})})})};o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(Y,{})})}),document.getElementById("root"))},91:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.28d1553e.chunk.js.map